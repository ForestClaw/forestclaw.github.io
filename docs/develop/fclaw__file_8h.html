<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ForestClaw: fclaw_file.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ForestClaw
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">fclaw_file.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Routines for parallel IO for <a class="el" href="forestclaw_8h.html#a345fbab290457176694917260185b95a">fclaw_domain_t</a> and generic data.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="forestclaw_8h_source.html">forestclaw.h</a>&gt;</code><br />
</div>
<p><a href="fclaw__file_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2b3f021a1372985466834b4ce240bae7" id="r_a2b3f021a1372985466834b4ce240bae7"><td class="memItemLeft" align="right" valign="top"><a id="a2b3f021a1372985466834b4ce240bae7" name="a2b3f021a1372985466834b4ce240bae7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FCLAW_FILE_USER_STRING_BYTES</b>&#160;&#160;&#160;48</td></tr>
<tr class="memdesc:a2b3f021a1372985466834b4ce240bae7"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of user string bytes <br /></td></tr>
<tr class="separator:a2b3f021a1372985466834b4ce240bae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af447bdfd8016ab75a11b9dd7828f5143" id="r_af447bdfd8016ab75a11b9dd7828f5143"><td class="memItemLeft" align="right" valign="top"><a id="af447bdfd8016ab75a11b9dd7828f5143" name="af447bdfd8016ab75a11b9dd7828f5143"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FCLAW_FILE_MAX_BLOCK_SIZE</b>&#160;&#160;&#160;((1000L * 1000L * 1000L * 1000L * 10L) - 1L)</td></tr>
<tr class="memdesc:af447bdfd8016ab75a11b9dd7828f5143"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximal data size of a block <br /></td></tr>
<tr class="separator:af447bdfd8016ab75a11b9dd7828f5143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c4aa2a111ed2644cf2fae8f0906dbaa" id="r_a7c4aa2a111ed2644cf2fae8f0906dbaa"><td class="memItemLeft" align="right" valign="top"><a id="a7c4aa2a111ed2644cf2fae8f0906dbaa" name="a7c4aa2a111ed2644cf2fae8f0906dbaa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FCLAW_FILE_MAX_FIELD_ENTRY_SIZE</b>&#160;&#160;&#160;((1000L * 1000L * 1000L * 1000L * 10L) - 1L)</td></tr>
<tr class="memdesc:a7c4aa2a111ed2644cf2fae8f0906dbaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximal data size per field entry <br /></td></tr>
<tr class="separator:a7c4aa2a111ed2644cf2fae8f0906dbaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a610a5771b69234d2511f65729f086b55" id="r_a610a5771b69234d2511f65729f086b55"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330a">fclaw_file_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fclaw__file_8h.html#a610a5771b69234d2511f65729f086b55">fclaw_file_error_t</a></td></tr>
<tr class="memdesc:a610a5771b69234d2511f65729f086b55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error values for fclaw_file functions.  <br /></td></tr>
<tr class="separator:a610a5771b69234d2511f65729f086b55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d8e27575731e8c34be4b8aacb2d769e" id="r_a4d8e27575731e8c34be4b8aacb2d769e"><td class="memItemLeft" align="right" valign="top"><a id="a4d8e27575731e8c34be4b8aacb2d769e" name="a4d8e27575731e8c34be4b8aacb2d769e"></a>
typedef struct fclaw_file_context&#160;</td><td class="memItemRight" valign="bottom"><b>fclaw_file_context_t</b></td></tr>
<tr class="memdesc:a4d8e27575731e8c34be4b8aacb2d769e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opaque context used for writing a fclaw2d data file. <br /></td></tr>
<tr class="separator:a4d8e27575731e8c34be4b8aacb2d769e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a1838f6a4e73d46fc3b9b6d332b78330a" id="r_a1838f6a4e73d46fc3b9b6d332b78330a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330a">fclaw_file_error</a> { <br />
&#160;&#160;<a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aa222bbfca67eea1c2d348b86f8adb85f4">FCLAW_FILE_ERR_SUCCESS</a> = 0
, <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aafce7e2212b1e834ba35bd04468f31df7">FCLAW_FILE_ERR_FILE</a> = sc_MPI_ERR_LASTCODE
, <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aa4ae85a2c35c7a0da5f697263526fc647">FCLAW_FILE_ERR_NOT_SAME</a>
, <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aa2f657da51df62a07cff091c4f1ab63c3">FCLAW_FILE_ERR_AMODE</a>
, <br />
&#160;&#160;<a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aaffacf556e510b1fa5d87fc53522e4267">FCLAW_FILE_ERR_NO_SUCH_FILE</a>
, <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aae8d4ebe7cab257e389c051bf51a8bb2d">FCLAW_FILE_ERR_FILE_EXIST</a>
, <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aafbdfe38e67056a94bff04cd5dd50c10e">FCLAW_FILE_ERR_BAD_FILE</a>
, <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aae931e29a836a816431e9d8d7796b50d8">FCLAW_FILE_ERR_ACCESS</a>
, <br />
&#160;&#160;<a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aa1c5f5ad3750edfefdd5d65ab8664e88c">FCLAW_FILE_ERR_NO_SPACE</a>
, <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aa5537e70c53d1f1924447aef62114efba">FCLAW_FILE_ERR_QUOTA</a>
, <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aacfeb819904310ae9daf5f026ffa12c72">FCLAW_FILE_ERR_READ_ONLY</a>
, <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aaa26bf8a8bdd24d740729403542e80097">FCLAW_FILE_ERR_IN_USE</a>
, <br />
&#160;&#160;<a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aa0233c22f2bd40146bdfbd0cf194078b8">FCLAW_FILE_ERR_IO</a>
, <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aac4055076a494bad3f49baa9412f6d8d3">FCLAW_FILE_ERR_FORMAT</a>
, <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aadc6f47a1ead7cf34c873539f48747f05">FCLAW_FILE_ERR_SECTION_TYPE</a>
, <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aa0f1d81bff359d77a6be2ed42384cc930">FCLAW_FILE_ERR_CONN</a>
, <br />
&#160;&#160;<a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aaf76a0accf9f7b3ad87ef7df0f6a9f68f">FCLAW_FILE_ERR_P4EST</a>
, <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aaf59f43e196c7344ea29a83f7b02b4d01">FCLAW_FILE_ERR_IN_DATA</a>
, <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aafc7e5c2f6fa21aecadffb2c9a3954629">FCLAW_FILE_ERR_COUNT</a>
, <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aa16fdd5d8980d50d494d5ca7516b32b66">FCLAW_FILE_ERR_DIM</a>
, <br />
&#160;&#160;<a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aa7c6147e1b88e564c35fa1253b1339bcf">FCLAW_FILE_ERR_UNKNOWN</a>
, <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aa23e6f8621eb5da0b5b64e48d12bf2a9c">FCLAW_FILE_ERR_PART</a>
, <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aaae6a5ebbaa447c7614e45d0aebbe2248">FCLAW_FILE_ERR_NOT_IMPLEMENTED</a>
, <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aad6052bfe4970e997bdbd939c0535463c">FCLAW_FILE_ERR_LASTCODE</a>
<br />
 }</td></tr>
<tr class="memdesc:a1838f6a4e73d46fc3b9b6d332b78330a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error values for fclaw_file functions.  <a href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330a">More...</a><br /></td></tr>
<tr class="separator:a1838f6a4e73d46fc3b9b6d332b78330a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a709322c6a2237068d5c585afc716c914" id="r_a709322c6a2237068d5c585afc716c914"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fclaw__file_8h.html#a709322c6a2237068d5c585afc716c914">fclaw_file_open_write</a> (const char *filename, const char *user_string, <a class="el" href="forestclaw_8h.html#a345fbab290457176694917260185b95a">fclaw_domain_t</a> *domain, int *errcode)</td></tr>
<tr class="memdesc:a709322c6a2237068d5c585afc716c914"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create and open a file that is associated with the given domain structure.  <br /></td></tr>
<tr class="separator:a709322c6a2237068d5c585afc716c914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc386441f3ec5381d57d0061a101f609" id="r_acc386441f3ec5381d57d0061a101f609"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fclaw__file_8h.html#acc386441f3ec5381d57d0061a101f609">fclaw_file_write_partition</a> (const char *filename, const char *user_string, <a class="el" href="forestclaw_8h.html#a345fbab290457176694917260185b95a">fclaw_domain_t</a> *domain, int *errcode)</td></tr>
<tr class="memdesc:acc386441f3ec5381d57d0061a101f609"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the partition of a domain to a partition file.  <br /></td></tr>
<tr class="separator:acc386441f3ec5381d57d0061a101f609"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d332ae4c8304256e24c0d108f4ba3f9" id="r_a1d332ae4c8304256e24c0d108f4ba3f9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fclaw__file_8h.html#a1d332ae4c8304256e24c0d108f4ba3f9">fclaw_file_write_block</a> (<a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> *fc, const char *user_string, size_t block_size, sc_array_t *block_data, int *errcode)</td></tr>
<tr class="memdesc:a1d332ae4c8304256e24c0d108f4ba3f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a serial data block to an opened parallel file.  <br /></td></tr>
<tr class="separator:a1d332ae4c8304256e24c0d108f4ba3f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1972fde9b12eb15dc5fdeea6ad4db5fe" id="r_a1972fde9b12eb15dc5fdeea6ad4db5fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fclaw__file_8h.html#a1972fde9b12eb15dc5fdeea6ad4db5fe">fclaw_file_write_array</a> (<a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> *fc, const char *user_string, size_t patch_size, sc_array_t *patch_data, int *errcode)</td></tr>
<tr class="memdesc:a1972fde9b12eb15dc5fdeea6ad4db5fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write per-patch data to a parallel output file.  <br /></td></tr>
<tr class="separator:a1972fde9b12eb15dc5fdeea6ad4db5fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99e60345ddc160cdef3d357b1e86efa2" id="r_a99e60345ddc160cdef3d357b1e86efa2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fclaw__file_8h.html#a99e60345ddc160cdef3d357b1e86efa2">fclaw_file_read_partition</a> (int refine_dim, const char *filename, char *user_string, sc_MPI_Comm mpicomm, sc_array_t *partition, int *errcode)</td></tr>
<tr class="memdesc:a99e60345ddc160cdef3d357b1e86efa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a partition array from file.  <br /></td></tr>
<tr class="separator:a99e60345ddc160cdef3d357b1e86efa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8ff72e9003bd90b84b9da44a1741237" id="r_ac8ff72e9003bd90b84b9da44a1741237"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fclaw__file_8h.html#ac8ff72e9003bd90b84b9da44a1741237">fclaw_file_open_read</a> (int refine_dim, const char *filename, char *user_string, sc_MPI_Comm mpicomm, sc_array_t *partition, <a class="el" href="forestclaw_8h.html#a345fbab290457176694917260185b95a">fclaw_domain_t</a> **domain, int *errcode)</td></tr>
<tr class="memdesc:ac8ff72e9003bd90b84b9da44a1741237"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a file for reading and read the stored domain.  <br /></td></tr>
<tr class="separator:ac8ff72e9003bd90b84b9da44a1741237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae01d3e7fa36a77c12fbff4b2f3e513a7" id="r_ae01d3e7fa36a77c12fbff4b2f3e513a7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fclaw__file_8h.html#ae01d3e7fa36a77c12fbff4b2f3e513a7">fclaw_file_read_block</a> (<a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> *fc, char *user_string, size_t block_size, sc_array_t *block_data, int *errcode)</td></tr>
<tr class="memdesc:ae01d3e7fa36a77c12fbff4b2f3e513a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a serial data block from an opened file.  <br /></td></tr>
<tr class="separator:ae01d3e7fa36a77c12fbff4b2f3e513a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61e04a6e719b752c7d5c29ef0925bde9" id="r_a61e04a6e719b752c7d5c29ef0925bde9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fclaw__file_8h.html#a61e04a6e719b752c7d5c29ef0925bde9">fclaw_file_read_array</a> (<a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> *fc, char *user_string, size_t patch_size, sc_array_t *patch_data, int *errcode)</td></tr>
<tr class="memdesc:a61e04a6e719b752c7d5c29ef0925bde9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read per-patch data from a parallel output file.  <br /></td></tr>
<tr class="separator:a61e04a6e719b752c7d5c29ef0925bde9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ecf86a31eb183ca7b2bb64a238fb7cb" id="r_a6ecf86a31eb183ca7b2bb64a238fb7cb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fclaw__file_8h.html#a6ecf86a31eb183ca7b2bb64a238fb7cb">fclaw_file_close</a> (<a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> *fc, int *errcode)</td></tr>
<tr class="memdesc:a6ecf86a31eb183ca7b2bb64a238fb7cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a file opened for parallel write/read and free the context.  <br /></td></tr>
<tr class="separator:a6ecf86a31eb183ca7b2bb64a238fb7cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a598c0bf2bfedca4d6b4faeb68b93fcfd" id="r_a598c0bf2bfedca4d6b4faeb68b93fcfd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fclaw__file_8h.html#a598c0bf2bfedca4d6b4faeb68b93fcfd">fclaw_file_error_string</a> (int refine_dim, int errcode, char *string, int *resultlen)</td></tr>
<tr class="memdesc:a598c0bf2bfedca4d6b4faeb68b93fcfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn fclaw_file errcode into a string.  <br /></td></tr>
<tr class="separator:a598c0bf2bfedca4d6b4faeb68b93fcfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Routines for parallel IO for <a class="el" href="forestclaw_8h.html#a345fbab290457176694917260185b95a">fclaw_domain_t</a> and generic data. </p>
<p>Principle: All files are associated with a single domain, i.e. one can write only one domain to one file. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a610a5771b69234d2511f65729f086b55" name="a610a5771b69234d2511f65729f086b55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a610a5771b69234d2511f65729f086b55">&#9670;&#160;</a></span>fclaw_file_error_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330a">fclaw_file_error</a> <a class="el" href="fclaw__file_8h.html#a610a5771b69234d2511f65729f086b55">fclaw_file_error_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Error values for fclaw_file functions. </p>
<p>In the future we may add further error codes. Therefore, the error codes should only be used by the enum but not by the explicit numeric values since these explicit numeric values may change. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a1838f6a4e73d46fc3b9b6d332b78330a" name="a1838f6a4e73d46fc3b9b6d332b78330a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1838f6a4e73d46fc3b9b6d332b78330a">&#9670;&#160;</a></span>fclaw_file_error</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330a">fclaw_file_error</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Error values for fclaw_file functions. </p>
<p>In the future we may add further error codes. Therefore, the error codes should only be used by the enum but not by the explicit numeric values since these explicit numeric values may change. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aa222bbfca67eea1c2d348b86f8adb85f4" name="a1838f6a4e73d46fc3b9b6d332b78330aa222bbfca67eea1c2d348b86f8adb85f4"></a>FCLAW_FILE_ERR_SUCCESS&#160;</td><td class="fielddoc"><p>file function completed with success </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aafce7e2212b1e834ba35bd04468f31df7" name="a1838f6a4e73d46fc3b9b6d332b78330aafce7e2212b1e834ba35bd04468f31df7"></a>FCLAW_FILE_ERR_FILE&#160;</td><td class="fielddoc"><p>invalid file handle </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aa4ae85a2c35c7a0da5f697263526fc647" name="a1838f6a4e73d46fc3b9b6d332b78330aa4ae85a2c35c7a0da5f697263526fc647"></a>FCLAW_FILE_ERR_NOT_SAME&#160;</td><td class="fielddoc"><p>collective arg not identical </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aa2f657da51df62a07cff091c4f1ab63c3" name="a1838f6a4e73d46fc3b9b6d332b78330aa2f657da51df62a07cff091c4f1ab63c3"></a>FCLAW_FILE_ERR_AMODE&#160;</td><td class="fielddoc"><p>access mode error </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aaffacf556e510b1fa5d87fc53522e4267" name="a1838f6a4e73d46fc3b9b6d332b78330aaffacf556e510b1fa5d87fc53522e4267"></a>FCLAW_FILE_ERR_NO_SUCH_FILE&#160;</td><td class="fielddoc"><p>file does not exist </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aae8d4ebe7cab257e389c051bf51a8bb2d" name="a1838f6a4e73d46fc3b9b6d332b78330aae8d4ebe7cab257e389c051bf51a8bb2d"></a>FCLAW_FILE_ERR_FILE_EXIST&#160;</td><td class="fielddoc"><p>file exists already </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aafbdfe38e67056a94bff04cd5dd50c10e" name="a1838f6a4e73d46fc3b9b6d332b78330aafbdfe38e67056a94bff04cd5dd50c10e"></a>FCLAW_FILE_ERR_BAD_FILE&#160;</td><td class="fielddoc"><p>invalid file name </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aae931e29a836a816431e9d8d7796b50d8" name="a1838f6a4e73d46fc3b9b6d332b78330aae931e29a836a816431e9d8d7796b50d8"></a>FCLAW_FILE_ERR_ACCESS&#160;</td><td class="fielddoc"><p>permission denied </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aa1c5f5ad3750edfefdd5d65ab8664e88c" name="a1838f6a4e73d46fc3b9b6d332b78330aa1c5f5ad3750edfefdd5d65ab8664e88c"></a>FCLAW_FILE_ERR_NO_SPACE&#160;</td><td class="fielddoc"><p>not enough space </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aa5537e70c53d1f1924447aef62114efba" name="a1838f6a4e73d46fc3b9b6d332b78330aa5537e70c53d1f1924447aef62114efba"></a>FCLAW_FILE_ERR_QUOTA&#160;</td><td class="fielddoc"><p>quota exceeded </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aacfeb819904310ae9daf5f026ffa12c72" name="a1838f6a4e73d46fc3b9b6d332b78330aacfeb819904310ae9daf5f026ffa12c72"></a>FCLAW_FILE_ERR_READ_ONLY&#160;</td><td class="fielddoc"><p>read only file (system) </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aaa26bf8a8bdd24d740729403542e80097" name="a1838f6a4e73d46fc3b9b6d332b78330aaa26bf8a8bdd24d740729403542e80097"></a>FCLAW_FILE_ERR_IN_USE&#160;</td><td class="fielddoc"><p>file currently open by other process </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aa0233c22f2bd40146bdfbd0cf194078b8" name="a1838f6a4e73d46fc3b9b6d332b78330aa0233c22f2bd40146bdfbd0cf194078b8"></a>FCLAW_FILE_ERR_IO&#160;</td><td class="fielddoc"><p>other I/O error </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aac4055076a494bad3f49baa9412f6d8d3" name="a1838f6a4e73d46fc3b9b6d332b78330aac4055076a494bad3f49baa9412f6d8d3"></a>FCLAW_FILE_ERR_FORMAT&#160;</td><td class="fielddoc"><p>read file has a wrong format </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aadc6f47a1ead7cf34c873539f48747f05" name="a1838f6a4e73d46fc3b9b6d332b78330aadc6f47a1ead7cf34c873539f48747f05"></a>FCLAW_FILE_ERR_SECTION_TYPE&#160;</td><td class="fielddoc"><p>a valid non-matching section type </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aa0f1d81bff359d77a6be2ed42384cc930" name="a1838f6a4e73d46fc3b9b6d332b78330aa0f1d81bff359d77a6be2ed42384cc930"></a>FCLAW_FILE_ERR_CONN&#160;</td><td class="fielddoc"><p>invalid serialized connectivity data </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aaf76a0accf9f7b3ad87ef7df0f6a9f68f" name="a1838f6a4e73d46fc3b9b6d332b78330aaf76a0accf9f7b3ad87ef7df0f6a9f68f"></a>FCLAW_FILE_ERR_P4EST&#160;</td><td class="fielddoc"><p>invalid p4est data </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aaf59f43e196c7344ea29a83f7b02b4d01" name="a1838f6a4e73d46fc3b9b6d332b78330aaf59f43e196c7344ea29a83f7b02b4d01"></a>FCLAW_FILE_ERR_IN_DATA&#160;</td><td class="fielddoc"><p>input data of file function is invalid </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aafc7e5c2f6fa21aecadffb2c9a3954629" name="a1838f6a4e73d46fc3b9b6d332b78330aafc7e5c2f6fa21aecadffb2c9a3954629"></a>FCLAW_FILE_ERR_COUNT&#160;</td><td class="fielddoc"><p>read or write count error that was not classified as a format error </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aa16fdd5d8980d50d494d5ca7516b32b66" name="a1838f6a4e73d46fc3b9b6d332b78330aa16fdd5d8980d50d494d5ca7516b32b66"></a>FCLAW_FILE_ERR_DIM&#160;</td><td class="fielddoc"><p>file has wrong dimension </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aa7c6147e1b88e564c35fa1253b1339bcf" name="a1838f6a4e73d46fc3b9b6d332b78330aa7c6147e1b88e564c35fa1253b1339bcf"></a>FCLAW_FILE_ERR_UNKNOWN&#160;</td><td class="fielddoc"><p>unknown error </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aa23e6f8621eb5da0b5b64e48d12bf2a9c" name="a1838f6a4e73d46fc3b9b6d332b78330aa23e6f8621eb5da0b5b64e48d12bf2a9c"></a>FCLAW_FILE_ERR_PART&#160;</td><td class="fielddoc"><p>invalid partition data </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aaae6a5ebbaa447c7614e45d0aebbe2248" name="a1838f6a4e73d46fc3b9b6d332b78330aaae6a5ebbaa447c7614e45d0aebbe2248"></a>FCLAW_FILE_ERR_NOT_IMPLEMENTED&#160;</td><td class="fielddoc"><p>functionality is not implemented </p>
</td></tr>
<tr><td class="fieldname"><a id="a1838f6a4e73d46fc3b9b6d332b78330aad6052bfe4970e997bdbd939c0535463c" name="a1838f6a4e73d46fc3b9b6d332b78330aad6052bfe4970e997bdbd939c0535463c"></a>FCLAW_FILE_ERR_LASTCODE&#160;</td><td class="fielddoc"><p>to define own error codes for a higher level application that is using fclaw_file functions </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a6ecf86a31eb183ca7b2bb64a238fb7cb" name="a6ecf86a31eb183ca7b2bb64a238fb7cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ecf86a31eb183ca7b2bb64a238fb7cb">&#9670;&#160;</a></span>fclaw_file_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fclaw_file_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> *&#160;</td>
          <td class="paramname"><em>fc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>errcode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close a file opened for parallel write/read and free the context. </p>
<p>This is a collective function.</p>
<p>This function does not abort on MPI I/O errors but returns NULL. Without MPI I/O the function may abort on file system dependent errors.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">fc</td><td>Context previously created by <a class="el" href="fclaw__file_8h.html#a709322c6a2237068d5c585afc716c914">fclaw_file_open_write</a> or <a class="el" href="fclaw__file_8h.html#ac8ff72e9003bd90b84b9da44a1741237">fclaw_file_open_read</a>. Is freed. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">errcode</td><td>An errcode that can be interpreted by <a class="el" href="fclaw__file_8h.html#a598c0bf2bfedca4d6b4faeb68b93fcfd">fclaw_file_error_string</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for a successful call and -1 in case of an error. See also errcode argument. </dd></dl>

</div>
</div>
<a id="a598c0bf2bfedca4d6b4faeb68b93fcfd" name="a598c0bf2bfedca4d6b4faeb68b93fcfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a598c0bf2bfedca4d6b4faeb68b93fcfd">&#9670;&#160;</a></span>fclaw_file_error_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fclaw_file_error_string </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>refine_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>errcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>resultlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Turn fclaw_file errcode into a string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">refine_dim</td><td>The refinement dimension. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">errcode</td><td>An errcode that is output by a fclaw_file function. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">string</td><td>At least sc_MPI_MAX_ERROR_STRING bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resultlen</td><td>Length of string on return. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or something else on invalid arguments. </dd></dl>

</div>
</div>
<a id="ac8ff72e9003bd90b84b9da44a1741237" name="ac8ff72e9003bd90b84b9da44a1741237"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8ff72e9003bd90b84b9da44a1741237">&#9670;&#160;</a></span>fclaw_file_open_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> * fclaw_file_open_read </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>refine_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>user_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sc_MPI_Comm&#160;</td>
          <td class="paramname"><em>mpicomm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sc_array_t *&#160;</td>
          <td class="paramname"><em>partition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="forestclaw_8h.html#a345fbab290457176694917260185b95a">fclaw_domain_t</a> **&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>errcode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a file for reading and read the stored domain. </p>
<p>The user string is broadcasted to all ranks after reading. The file must exist and be at least of the size of the file header.</p>
<p>This is a collective function. If the file has wrong metadata the function reports the error using <a class="el" href="fclaw__base_8h.html#a13211276debd076812aec1fd1275d01a">fclaw_errorf</a>, collectively closes the file and deallocates the file context. In this case the function returns NULL on all ranks. The wrong file format or a wrong file header causes <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aac4055076a494bad3f49baa9412f6d8d3">FCLAW_FILE_ERR_FORMAT</a> as errcode.</p>
<p>After calling this function the user can continue reading the opened file by calling <a class="el" href="fclaw__file_8h.html#ae01d3e7fa36a77c12fbff4b2f3e513a7">fclaw_file_read_block</a>, <a class="el" href="fclaw__file_8h.html#a61e04a6e719b752c7d5c29ef0925bde9">fclaw_file_read_array</a> and potentially other functions operating on <a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> that may be implemented on the top of the current fclaw_file routines.</p>
<p>This function does not abort on MPI I/O errors but returns NULL. Without MPI I/O the function may abort on file system dependent errors.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">refine_dim</td><td>The refinement dimension. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>The path to the file that is opened. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">user_string</td><td>At least <a class="el" href="fclaw__file_8h.html#a2b3f021a1372985466834b4ce240bae7">FCLAW_FILE_USER_STRING_BYTES</a> bytes. The user string is written to the passed array including padding spaces and a trailing NUL-termination. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mpicomm</td><td>MPI communicator that is used to read the file and is used for potential other reading operations of MPI communicator dependent objects. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">partition</td><td>A sc_array of the size of number of MPI ranks + 1 with sizeof (p4est_gloidx_t) as element size or NULL. The sc_array must contain a valid partition, i.e. the first element is 0, the array is non-decreasing and the last array entry equals the number of global patches of the domain in the file pointed to by <b>filename</b>. If any of these conditions is violated, the function returns NULL and set <b>errcode</b> to <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aa23e6f8621eb5da0b5b64e48d12bf2a9c">FCLAW_FILE_ERR_PART</a>. The user can pass NULL for using the uniform partition with respect to the quadrant count. In both cases the respective partition, either read or computed, is used for the parallel I/O operations and stored in the returned <b>domain</b>. The user can use <a class="el" href="fclaw__file_8h.html#a99e60345ddc160cdef3d357b1e86efa2">fclaw_file_read_partition</a> to read a partition array from file. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">domain</td><td>Newly allocated domain that is read from the file. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">errcode</td><td>An errcode that can be interpreted by <a class="el" href="fclaw__file_8h.html#a598c0bf2bfedca4d6b4faeb68b93fcfd">fclaw_file_error_string</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Newly allocated context to continue reading and eventually closing the file. NULL in case of error. </dd></dl>

</div>
</div>
<a id="a709322c6a2237068d5c585afc716c914" name="a709322c6a2237068d5c585afc716c914"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a709322c6a2237068d5c585afc716c914">&#9670;&#160;</a></span>fclaw_file_open_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> * fclaw_file_open_write </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>user_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="forestclaw_8h.html#a345fbab290457176694917260185b95a">fclaw_domain_t</a> *&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>errcode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create and open a file that is associated with the given domain structure. </p>
<p>This is a collective function call that overwrites the file if it exists already. This function writes a header with metadata of the underlying p4est of the passed <b>domain</b> to the file. In addition, the passed <b>domain</b> is written to the file.</p>
<p>The opened file can be used to write to the file using the functions <a class="el" href="fclaw__file_8h.html#a1d332ae4c8304256e24c0d108f4ba3f9">fclaw_file_write_block</a>, <a class="el" href="fclaw__file_8h.html#a1972fde9b12eb15dc5fdeea6ad4db5fe">fclaw_file_write_array</a> and potentially other functions operating on <a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> that may be implemented on the top of the current fclaw_file routines.</p>
<p>This function does not abort on MPI I/O errors but returns NULL. Without MPI I/O the function may abort on file system dependent errors.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>Path to parallel file that is to be created. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_string</td><td>A NUL-terminated user string that is written to the file header having FCLAW_FILE_USER_STRING_BYTES bytes including the NUL-termination. Shorter user strings are padded by spaces in the file header. Too long user strings result in an error with the error code <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aaf59f43e196c7344ea29a83f7b02b4d01">FCLAW_FILE_ERR_IN_DATA</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">domain</td><td>The underlying p4est is used for the metadata of the the created file and the <b>domain</b> is written to the file. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">errcode</td><td>An errcode that can be interpreted by <a class="el" href="fclaw__file_8h.html#a598c0bf2bfedca4d6b4faeb68b93fcfd">fclaw_file_error_string</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Newly allocated context to continue writing and eventually closing the file. NULL in case of error. </dd></dl>

</div>
</div>
<a id="a61e04a6e719b752c7d5c29ef0925bde9" name="a61e04a6e719b752c7d5c29ef0925bde9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61e04a6e719b752c7d5c29ef0925bde9">&#9670;&#160;</a></span>fclaw_file_read_array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> * fclaw_file_read_array </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> *&#160;</td>
          <td class="paramname"><em>fc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>user_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>patch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sc_array_t *&#160;</td>
          <td class="paramname"><em>patch_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>errcode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read per-patch data from a parallel output file. </p>
<p>This is a collective function. The function closes and deallocates the file context and returns NULL if the bytes the user wants to read exceed the given file and/or the element size of the array given by <b>patch_data-&gt;elem_size</b> does not coincide with the element size according to the array metadata given in the file.</p>
<p>The data is read in parallel using the partition of the domain (and the underlying p4est) that is associated with the passed file context in the sense that the file context was created using the respective domain. The data size per patch must be fixed.</p>
<p>This function does not abort on MPI I/O errors but returns NULL. Without MPI I/O the function may abort on file system dependent errors.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fc</td><td>Context previously created by <a class="el" href="fclaw__file_8h.html#ac8ff72e9003bd90b84b9da44a1741237">fclaw_file_open_read</a>. It keeps track of the data sets read one after another. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">user_string</td><td>At least <a class="el" href="fclaw__file_8h.html#a2b3f021a1372985466834b4ce240bae7">FCLAW_FILE_USER_STRING_BYTES</a> bytes. The user string is written to the passed array including padding spaces and a trailing NUL-termination. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">patch_size</td><td>The number of bytes per patch. This number must coincide with <b>patch_data-&gt;elem_size</b>. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">patch_data</td><td>An array of the length number of local patches with the element size equal to sizeof (sc_array_t). This means each element of <b>patch_data</b> must be a sc_array. These sc_arrays must have an element size of <b>patch_size</b>. This memory layout enables the user to read by indirect addressing, i.e. to read into non-contigous patch data. The patch data is read according to the Morton order of the patches. <b>patch_size</b> must coincide with the section data size in the file. <b>patch_data</b> == NULL means that the data is skipped and the internal file pointer is incremented. In the case of skipping <b>patch_size</b> is still checked using the corresponding value read from the file. The data is read using the partition of patches given by the domain that is associated to <b>fc</b>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">errcode</td><td>An errcode that can be interpreted by <a class="el" href="fclaw__file_8h.html#a598c0bf2bfedca4d6b4faeb68b93fcfd">fclaw_file_error_string</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return a pointer to input context or NULL in case of errors that does not abort the program. In case of error the file is tried to close and <b>fc</b> is freed. </dd></dl>

</div>
</div>
<a id="ae01d3e7fa36a77c12fbff4b2f3e513a7" name="ae01d3e7fa36a77c12fbff4b2f3e513a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae01d3e7fa36a77c12fbff4b2f3e513a7">&#9670;&#160;</a></span>fclaw_file_read_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> * fclaw_file_read_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> *&#160;</td>
          <td class="paramname"><em>fc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>user_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>block_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sc_array_t *&#160;</td>
          <td class="paramname"><em>block_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>errcode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a serial data block from an opened file. </p>
<p>This is a collective function.</p>
<p>This function requires an opened file context.</p>
<p>The passed <b>block_size</b> is compared to the block size stored in the file. If the values do not equal each other, the function reports details, closes and deallocates the file context. The return value in this case is NULL. If the data block section header information is not matching the passed parameters the function sets <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aac4055076a494bad3f49baa9412f6d8d3">FCLAW_FILE_ERR_FORMAT</a> for errcode.</p>
<p>This function does not abort on MPI I/O errors but returns NULL. Without MPI I/O the function may abort on file system dependent errors.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fc</td><td>Context previously created by <a class="el" href="fclaw__file_8h.html#ac8ff72e9003bd90b84b9da44a1741237">fclaw_file_open_read</a>. It keeps track of the data sets read one after another. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">user_string</td><td>At least <a class="el" href="fclaw__file_8h.html#a2b3f021a1372985466834b4ce240bae7">FCLAW_FILE_USER_STRING_BYTES</a> bytes. The user string is written to the passed array including padding spaces and a trailing NUL-termination. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block_size</td><td>The size of the header that is read. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">block_data</td><td><b>block_size</b> allocated bytes in an sc_array with one element and <b>block_size</b> as element size. This data will be filled with the block data from the file. If this is NULL it means that the current header block is skipped and the internal file pointer of the file context is set to the next data section. If the current data section is not a data block, the file is closed and the file context is deallocated. Furthermore, in this case the function returns NULL and sets errcode to <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aac4055076a494bad3f49baa9412f6d8d3">FCLAW_FILE_ERR_FORMAT</a>. In case of skipping the data block section <b>block_size</b> needs also to coincide with the data block size given in the file. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">errcode</td><td>An errcode that can be interpreted by <a class="el" href="fclaw__file_8h.html#a598c0bf2bfedca4d6b4faeb68b93fcfd">fclaw_file_error_string</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return a pointer to input context or NULL in case of errors that does not abort the program. In case of error the file is tried to close and <b>fc</b> is freed. </dd></dl>

</div>
</div>
<a id="a99e60345ddc160cdef3d357b1e86efa2" name="a99e60345ddc160cdef3d357b1e86efa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99e60345ddc160cdef3d357b1e86efa2">&#9670;&#160;</a></span>fclaw_file_read_partition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fclaw_file_read_partition </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>refine_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>user_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sc_MPI_Comm&#160;</td>
          <td class="paramname"><em>mpicomm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sc_array_t *&#160;</td>
          <td class="paramname"><em>partition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>errcode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a partition array from file. </p>
<p>This function reads the partition array, i.e. the global first patch array from a partition file that was written using <a class="el" href="fclaw__file_8h.html#acc386441f3ec5381d57d0061a101f609">fclaw_file_write_partition</a>. The read partition can be passed to <a class="el" href="fclaw__file_8h.html#ac8ff72e9003bd90b84b9da44a1741237">fclaw_file_open_read</a>.</p>
<p>This function guarantees that on successful output the read partition is valid in the sense that the partition array has 0 as first entry and is non-decreasing.</p>
<p>The function and all its parameters are collective.</p>
<p>This function does not abort on MPI I/O errors but returns -1. Without MPI I/O the function may abort on file system dependent errors.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">refine_dim</td><td>The refine dimension. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>The path to the partition file. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">user_string</td><td>At least <a class="el" href="fclaw__file_8h.html#a2b3f021a1372985466834b4ce240bae7">FCLAW_FILE_USER_STRING_BYTES</a> bytes. The user string is written to the passed array including padding spaces and a trailing NUL-termination. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mpicomm</td><td>The MPI communicator is required to synchronize the <b>errcode</b> and the output array <b>partition</b>. It is important to notice that <b>partition</b> is only available on MPI ranks that are part of the passed <b>mpicomm</b>. Therefore, <b>mpicomm</b> should coincide with the mpicomm parameter of <a class="el" href="fclaw__file_8h.html#ac8ff72e9003bd90b84b9da44a1741237">fclaw_file_open_read</a> to ensure that the partition parameter of <a class="el" href="fclaw__file_8h.html#ac8ff72e9003bd90b84b9da44a1741237">fclaw_file_open_read</a> is collectivly available. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">partition</td><td>A sc_array with element size equals to sizeof (p4est_gloidx_t). On successful output the array is filled with the read partition. In case of an error, the function does not guarantee that <b>partition</b> stays untouched but it is guaranteed that the user is not required to call sc_array_reset on <b>partition</b>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">errcode</td><td>An errcode that can be interpreted by <a class="el" href="fclaw__file_8h.html#a598c0bf2bfedca4d6b4faeb68b93fcfd">fclaw_file_error_string</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for a successful read of the partition file. -1 in case of an error. </dd></dl>

</div>
</div>
<a id="a1972fde9b12eb15dc5fdeea6ad4db5fe" name="a1972fde9b12eb15dc5fdeea6ad4db5fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1972fde9b12eb15dc5fdeea6ad4db5fe">&#9670;&#160;</a></span>fclaw_file_write_array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> * fclaw_file_write_array </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> *&#160;</td>
          <td class="paramname"><em>fc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>user_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>patch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sc_array_t *&#160;</td>
          <td class="paramname"><em>patch_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>errcode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write per-patch data to a parallel output file. </p>
<p>This is a collective function. This function writes the per-patch data with respect the domain that was passed to the <a class="el" href="fclaw__file_8h.html#a709322c6a2237068d5c585afc716c914">fclaw_file_open_write</a> for opening the file.</p>
<p>The per-patch data is written in parallel according to the partition of the domain and the underlying p4est, respectively. The data size per patch must be fixed.</p>
<p>This function does not abort on MPI I/O errors but returns NULL. Without MPI I/O the function may abort on file system dependent errors.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">fc</td><td>Context previously created by <a class="el" href="fclaw__file_8h.html#a709322c6a2237068d5c585afc716c914">fclaw_file_open_write</a>. It keeps track of the data sets written one after another. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_string</td><td>A NUL-terminated user string that is written to the section header having FCLAW_FILE_USER_STRING_BYTES bytes including the NUL-termination. Shorter user strings are padded by spaces in the section header. Too long user strings result in an error with the error code <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aaf59f43e196c7344ea29a83f7b02b4d01">FCLAW_FILE_ERR_IN_DATA</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">patch_size</td><td>The number of bytes per patch. This number must coincide with <b>patch_data-&gt;elem_size</b>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">patch_data</td><td>An array of the length number of local patches with the element size equal to sizeof (sc_array_t). This means each element of <b>patch_data</b> must be a sc_array. These sc_arrays must have an element size of <b>patch_size</b> and store the actual patch data. This memory layout enables the user to write by indirect addressing, i.e. to write non-contigous patch data. The patch data is expected to be stored according to the Morton order of the patches. For <b>patch_size</b> == 0 the function writes an empty array. The section header and the padding is still written. In this case the function passes successfully and <b>errcode</b> is set to <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aa222bbfca67eea1c2d348b86f8adb85f4">FCLAW_FILE_ERR_SUCCESS</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">errcode</td><td>An errcode that can be interpreted by <a class="el" href="fclaw__file_8h.html#a598c0bf2bfedca4d6b4faeb68b93fcfd">fclaw_file_error_string</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return a pointer to input context or NULL in case of errors that does not abort the program. In case of error the file is tried to close and <b>fc</b> is freed. </dd></dl>

</div>
</div>
<a id="a1d332ae4c8304256e24c0d108f4ba3f9" name="a1d332ae4c8304256e24c0d108f4ba3f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d332ae4c8304256e24c0d108f4ba3f9">&#9670;&#160;</a></span>fclaw_file_write_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> * fclaw_file_write_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fclaw__file_8h.html#a4d8e27575731e8c34be4b8aacb2d769e">fclaw_file_context_t</a> *&#160;</td>
          <td class="paramname"><em>fc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>user_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>block_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sc_array_t *&#160;</td>
          <td class="paramname"><em>block_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>errcode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a serial data block to an opened parallel file. </p>
<p>This is a collective function. This function writes a serial data block to the opened file.</p>
<p>The number of block bytes must be less or equal <a class="el" href="fclaw__file_8h.html#af447bdfd8016ab75a11b9dd7828f5143">FCLAW_FILE_MAX_BLOCK_SIZE</a>.</p>
<p>This function does not abort on MPI I/O errors but returns NULL. Without MPI I/O the function may abort on file system dependent errors.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">fc</td><td>Context previously created by <a class="el" href="fclaw__file_8h.html#a709322c6a2237068d5c585afc716c914">fclaw_file_open_write</a>. It keeps track of the data sets written one after another. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_string</td><td>A NUL-terminated user string that is written to the section header having FCLAW_FILE_USER_STRING_BYTES bytes including the NUL-termination. Shorter user strings are padded by spaces in the section header. Too long user strings result in an error with the error code <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aaf59f43e196c7344ea29a83f7b02b4d01">FCLAW_FILE_ERR_IN_DATA</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block_size</td><td>The size of the block in bytes. May be equal to 0. In this case the section header and the padding is still written. This function returns the passed <b>fc</b> parameter and sets errcode to <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aa222bbfca67eea1c2d348b86f8adb85f4">FCLAW_FILE_ERR_SUCCESS</a> if it is called for <b>block_size</b> == 0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block_data</td><td>A sc_array with one element and element size equal to <b>block_size</b>. The array points to the block data. The user is responsible for the validality of the block data. block_data can be NULL if <b>block_size</b> == 0. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">errcode</td><td>An errcode that can be interpreted by <a class="el" href="fclaw__file_8h.html#a598c0bf2bfedca4d6b4faeb68b93fcfd">fclaw_file_error_string</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return a pointer to input context or NULL in case of errors that does not abort the program. In case of error the file is tried to close and <b>fc</b> is freed. </dd></dl>

</div>
</div>
<a id="acc386441f3ec5381d57d0061a101f609" name="acc386441f3ec5381d57d0061a101f609"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc386441f3ec5381d57d0061a101f609">&#9670;&#160;</a></span>fclaw_file_write_partition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fclaw_file_write_partition </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>user_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="forestclaw_8h.html#a345fbab290457176694917260185b95a">fclaw_domain_t</a> *&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>errcode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the partition of a domain to a partition file. </p>
<p>This function writes the partition of the passed <b>domain</b> to a partition file. The user can read the partition to an array using <a class="el" href="fclaw__file_8h.html#a99e60345ddc160cdef3d357b1e86efa2">fclaw_file_read_partition</a> and then pass the read array to <a class="el" href="fclaw__file_8h.html#ac8ff72e9003bd90b84b9da44a1741237">fclaw_file_open_read</a> to use the read partition.</p>
<p>The function and all its parameters are collective.</p>
<p>This function does not abort on MPI I/O errors but returns -1. Without MPI I/O the function may abort on file system dependent errors.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>Path to partition file that is to be created. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_string</td><td>A NUL-terminated user string that is written to the partition file header having <a class="el" href="fclaw__file_8h.html#a2b3f021a1372985466834b4ce240bae7">FCLAW_FILE_USER_STRING_BYTES</a> bytes including the NUL-termination. Shorter user strings are padded by spaces in the file header. Too long user strings result in an error with the error code <a class="el" href="fclaw__file_8h.html#a1838f6a4e73d46fc3b9b6d332b78330aaf59f43e196c7344ea29a83f7b02b4d01">FCLAW_FILE_ERR_IN_DATA</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">errcode</td><td>An errcode that can be interpreted by <a class="el" href="fclaw__file_8h.html#a598c0bf2bfedca4d6b4faeb68b93fcfd">fclaw_file_error_string</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for a successful write of the partition file. -1 in case of an error. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
